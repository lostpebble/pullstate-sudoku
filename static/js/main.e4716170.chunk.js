(window["webpackJsonppullstate-sudoku"]=window["webpackJsonppullstate-sudoku"]||[]).push([[0],{4132:function(e,t,n){e.exports=n(4147)},4137:function(e,t,n){},4138:function(e,t,n){},4147:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),l=(n(4137),n(4)),c=(n(4138),n(4161)),u=function(e){var t=e.direction,n=void 0===t?"row":t,a=e.gap,o=void 0===a?1:a,i=e.justifyContent,l=void 0===i?"center":i,c=e.justifyItems,u=void 0===c?"center":c,d=e.align,s=void 0===d?"center":d,f=e.children;return r.a.createElement("div",{style:{display:"grid",gridAutoFlow:"column"===n?"row":"column",gap:"".concat(o,"em"),justifyContent:l,justifyItems:u,alignItems:s}},f)},d=n(18),s=n(15),f=n.n(s);var v=[],m=[],p=0;var h,g={usePatchesForUndoRedo:function(e,t){var n=m.length-p;p=0,n>=0&&(v=v.slice(0,n),m=m.slice(0,n)),v.push(e),m.push(t)},undo:function(){var e=m.length-1-p;e>=0&&m[e]&&(p+=1,y.applyPatches(m[e]))},redo:function(){var e=v.length-p;e>=0&&v[e]&&(p-=1,y.applyPatches(v[e]))},reset:function(){v=[],m=[],p=0}},y=new d.a({startedPuzzle:!1,finishedPuzzle:!1,filledBlocks:[],originalFilledBlocks:[]}),w=(h=[["filledBlocks","*"]],function(e){return e.filter(function(e){return h.some(function(t){return t.every(function(t,n){return e.path.length>n&&(e.path[n]===t||"*"===t)})})})});y.listenToPatches(function(e,t){console.log(e.map(function(e){return e.path.join(".")}).join(" ___ "));var n=w(e);if(n.length>0){var a=w(t);g.usePatchesForUndoRedo(n,a)}}),y.createReaction(function(e){return e.filledBlocks},function(e,t,n){if(n.startedPuzzle&&e.length>0){var a=f.a.board_grid_to_string(e),r=f.a.solve(a);r&&f.a.print_board(r),t.finishedPuzzle=a===r}});var k=["","1","2","3","4","5","6","7","8","9"];var b={generateNewSudoku:function(e){var t=f.a.generate(e),n=f.a.board_string_to_grid(t),a=f.a.board_string_to_grid(t);y.update(function(e){e.filledBlocks=n,e.originalFilledBlocks=a,e.startedPuzzle=!0})},editCell:function(e,t,n){k.includes(n)&&(""===n&&(n="."),y.update(function(a){a.filledBlocks[t][e]=n}))},reset:function(){g.reset(),y.update(function(e){e.startedPuzzle=!1,e.finishedPuzzle=!1})},clearBoard:function(){y.update(function(e,t){var n=!0,a=!1,r=void 0;try{for(var o,i=t.originalFilledBlocks.entries()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value,u=Object(l.a)(c,2),d=u[0],s=u[1],f=!0,v=!1,m=void 0;try{for(var p,h=s.entries()[Symbol.iterator]();!(f=(p=h.next()).done);f=!0){var g=p.value,y=Object(l.a)(g,2),w=y[0],k=y[1];e.filledBlocks[d][w]=k}}catch(b){v=!0,m=b}finally{try{f||null==h.return||h.return()}finally{if(v)throw m}}}}catch(b){a=!0,r=b}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}},g.usePatchesForUndoRedo)}},E=function(){return r.a.createElement(u,{justifyItems:"center",gap:1},r.a.createElement(c.a,{variant:"contained",color:"primary",onClick:function(){b.generateNewSudoku("easy")}},"Easy"),r.a.createElement(c.a,{variant:"contained",color:"primary",onClick:function(){b.generateNewSudoku("medium")}},"Medium"),r.a.createElement(c.a,{variant:"contained",color:"primary",onClick:function(){b.generateNewSudoku("hard")}},"Hard"))},z=function(e){var t=e.x,n=e.y,a=Object(d.b)(y,[["filledBlocks",n,t],["originalFilledBlocks",n,t]]),o=Object(l.a)(a,2),i=o[0],c=o[1],u={userSelect:"none"};[2,5].includes(t)&&(u.borderRight="1px solid #667788"),[3,6].includes(t)&&(u.borderLeft="1px solid #667788"),[2,5].includes(n)&&(u.borderBottom="1px solid #667788"),[3,6].includes(n)&&(u.borderTop="1px solid #667788");var s="."!==c,f="."!==i?i:"";return r.a.createElement("div",{style:u,className:"cell ".concat(s?"original":"editable")},!s&&r.a.createElement("input",{type:"number",value:f,onChange:function(e){return b.editCell(t,n,e.target.value)}}),s&&r.a.createElement("span",{className:"set-value"},f))},j=function(){var e=function(e,t,n){for(var a=[],r=0;r<e;r+=1){a.push([]);for(var o=0;o<t;o+=1)a[r].push(n(o,r))}return a}(9,9,function(e,t){return r.a.createElement(z,{key:"".concat(e).concat(t),x:e,y:t})});return r.a.createElement("div",{className:"puzzle-container"},e.map(function(e,t){return r.a.createElement("div",{key:t,className:"row"},e)}))},B=n(4162),P=n(33);var _=n(34);setTimeout(function(){b.generateNewSudoku("easy")},100);var C=function(){var e=Object(d.b)(y,[["startedPuzzle"],["finishedPuzzle"]]),t=Object(l.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)(function(){o&&function(){var e=Date.now()+15e3,t=P.a.create(),n=setInterval(function(){if(Date.now()>e)return clearInterval(n);t({startVelocity:30,spread:360,ticks:60,shapes:["square"],origin:{x:Math.random(),y:Math.random()-.2}})},200)}()},[o]);var i=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(a.useState)(t),r=Object(l.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)(function(){if(e)return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)};function n(){i(t())}}),o}().width,s=Math.min(Math.round((i||100)/40),20);return r.a.createElement("div",{style:{fontSize:"".concat(s,"px")},className:"App"},n&&r.a.createElement(u,{direction:"column",gap:1},r.a.createElement(c.a,{onClick:b.reset,variant:"contained",color:"primary"},"Start New Puzzle"),r.a.createElement(j,null),r.a.createElement(u,{direction:"row",gap:1},r.a.createElement(c.a,{onClick:g.undo,variant:"outlined",color:"secondary"},"Undo"),r.a.createElement(c.a,{onClick:g.redo,variant:"outlined",color:"secondary"},"Redo"),r.a.createElement(c.a,{onClick:b.clearBoard,variant:"outlined",color:"secondary"},"Clear"))),!n&&r.a.createElement(E,null),r.a.createElement("div",{style:{marginTop:"5em"}},r.a.createElement(B.a,{icon:r.a.createElement(_.a,null),clickable:!0,component:"a",color:"primary",href:"https://github.com/lostpebble/pullstate-sudoku",target:"_blank",label:"lostpebble/pullstate-sudoku"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[4132,1,2]]]);
//# sourceMappingURL=main.e4716170.chunk.js.map